*** Settings ***
Suite Setup       Get Test Data    1.1-5. Recipient owner CANNOT
Resource          ../Resource/BusinessKeywords.txt
Resource          ../Resource/LogicKeywords.txt

*** Test Cases ***
Owner cannot share file to his primary email
    ${v_test_data}=    Set Variable    ${test_data[0]}
    Set Suite Variable    ${v_expiration_box_id}    stringExpiration
    Open Web App    browser1
    SignIn    ${v_test_data['Owner']}    ${v_test_data['Owner Pass']}
    Click    ${Btn_StringFile}
    ${v_pathToDataFile}=    Join Path    ${cfg_test_data_location}    FileTypeSupported    ${v_test_data['File']}
    Upload File    ${v_pathToDataFile}
    Input    ${StringFile_Txt_Recipients}    ${v_test_data['Direct Recipient']},
    Set Expiration    ${v_expiration_box_id}    ${v_test_data['Expiration']}
    Set Switch Box    ${StringFile_ChkBx_Printing}    ${v_test_data['Allow Printing']}
    Set Switch Box    ${StringFile_ChkBx_Watermark}    ${v_test_data['Display Watermark']}
    Set Access Level    ${StringFile_Mdl}    ${v_test_data['Access Level']}
    Input    ${StringFile_TxtAr_Note}    ${v_test_data['Note']}
    Wait Until Page Contains Element    ${StringFile_PrgBar_Upload_Done}    ${cfg_timeout}    Upload failed!
    Click    ${StringFile_Btn_String}
    Wait For Progress Bar
    Wrapper.Page Should NOT Contain    ${Msg_Success}    Page contain successful message, but it's should NOT
    Verify Error Alert With Message    ${v_test_data['Expected Message']}
    [Teardown]    Run Keywords    Submit Test Result    ${v_test_data['TestcaseID']}    ${TEST_STATUS}    AND    Close All Browsers

Owner cannot share file to his 2nd verified email
    ${v_test_data}=    Set Variable    ${test_data[1]}
    Open Web App    browser1
    SignIn    ${v_test_data['Owner']}    ${v_test_data['Owner Pass']}
    Click    ${Btn_StringFile}
    ${v_pathToDataFile}=    Join Path    ${cfg_test_data_location}    FileTypeSupported    ${v_test_data['File']}
    Upload File    ${v_pathToDataFile}
    Input    ${StringFile_Txt_Recipients}    ${v_test_data['Direct Recipient']},
    Set Expiration    ${v_expiration_box_id}    ${v_test_data['Expiration']}
    Set Switch Box    ${StringFile_ChkBx_Printing}    ${v_test_data['Allow Printing']}
    Set Switch Box    ${StringFile_ChkBx_Watermark}    ${v_test_data['Display Watermark']}
    Set Access Level    ${StringFile_Mdl}    ${v_test_data['Access Level']}
    Input    ${StringFile_TxtAr_Note}    ${v_test_data['Note']}
    Wait Until Page Contains Element    ${StringFile_PrgBar_Upload_Done}    ${cfg_timeout}    Upload failed!
    Click    ${StringFile_Btn_String}
    Wait For Progress Bar
    Wrapper.Page Should NOT Contain    ${Msg_Success}    Page contain successful message, but it's should NOT
    Verify Error Alert With Message    ${v_test_data['Expected Message']}
    Verify Error Alert With Message    ${v_test_data['Expected Message']}
    Verify Error Alert With Message    ${v_test_data['Expected Message']}
    Verify Error Alert With Message    ${v_test_data['Expected Message']}
    [Teardown]    Run Keywords    Submit Test Result    ${v_test_data['TestcaseID']}    ${TEST_STATUS}    AND    Close All Browsers
