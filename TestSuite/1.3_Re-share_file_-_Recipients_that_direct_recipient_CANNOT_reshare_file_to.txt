*** Settings ***
Test Setup        Run Keywords    Get Test Case ID From Test Case Name    AND    fsweb_Load Data From File    ${v_reshareDataFile}    ${v_testcaseID}    AND
...               Open Web App    AND    SignIn    ${v_data['Direct recipient email address']}    ${v_data['Password']}
Test Teardown     Run Keywords    fsweb_Submit Test Status Into Testlink    ${v_testcaseID}    AND    Close All Browsers
Resource          ../Resource/AddRecipients.txt

*** Test Cases ***
fs[7528]_CANNOT reshare file to primary email of sender
    fsweb_Open A File Or Folder    FileString Received Files
    Wait For Progress Bar
    fsweb_Open A File Or Folder    ${v_data['Owner fullname']}
    Wait For Progress Bar
    Right Click File    ${v_data['Filename']}
    Click    ${MenuWhenRightClickOnAFile_ReShare}
    fsweb_Verify_Reshare Popup Should Exist
    Wait For Progress Bar
    fsweb_Input Recipient On Add Recipient Popup    ${v_data['Owner primary email address']}
    Click    ${Reshare_StringButton}
    fsweb_Verify Error Message On Add Recipient Model    ${v_data['Error message']}

fs[7530]_CANNOT reshare file to secondary email of sender
    fsweb_Open A File Or Folder    FileString Received Files
    Wait For Progress Bar
    fsweb_Open A File Or Folder    ${v_data['Owner fullname']}
    Wait For Progress Bar
    Right Click File    ${v_data['Filename']}
    Click    ${MenuWhenRightClickOnAFile_ReShare}
    fsweb_Verify_Reshare Popup Should Exist
    Wait For Progress Bar
    fsweb_Input Recipient On Add Recipient Popup    ${v_data['Owner secondary email address']}
    Click    ${Reshare_StringButton}
    fsweb_Verify Error Message On Add Recipient Model    ${v_data['Error message']}

fs[7532]_Resharer CANNOT reshare file to himself via his secondary email
    fsweb_Open A File Or Folder    FileString Received Files
    Wait For Progress Bar
    fsweb_Open A File Or Folder    ${v_data['Owner fullname']}
    Wait For Progress Bar
    Right Click File    ${v_data['Filename']}
    Click    ${MenuWhenRightClickOnAFile_ReShare}
    fsweb_Verify_Reshare Popup Should Exist
    Wait For Progress Bar
    fsweb_Input Recipient On Add Recipient Popup    ${v_data['recipient secondary email address']}
    Click    ${Reshare_StringButton}
    fsweb_Verify Error Message On Add Recipient Model    ${v_data['Error message']}

fs[7534]_Resharer CANNOT reshare file to himself via his primary email
    fsweb_Open A File Or Folder    FileString Received Files
    Wait For Progress Bar
    fsweb_Open A File Or Folder    ${v_data['Owner fullname']}
    Wait For Progress Bar
    Right Click File    ${v_data['Filename']}
    Click    ${MenuWhenRightClickOnAFile_ReShare}
    fsweb_Verify_Reshare Popup Should Exist
    Wait For Progress Bar
    fsweb_Input Recipient On Add Recipient Popup    ${v_data['Direct recipient email address']}
    Click    ${Reshare_StringButton}
    fsweb_Verify Error Message On Add Recipient Model    ${v_data['Error message']}

fs[7538]_CANNOT reshare file to existing recipients who received this file already from owner
    fsweb_Open A File Or Folder    FileString Received Files
    Wait For Progress Bar
    fsweb_Open A File Or Folder    ${v_data['Owner fullname']}
    Wait For Progress Bar
    Right Click File    ${v_data['Filename']}
    Click    ${MenuWhenRightClickOnAFile_ReShare}
    fsweb_Verify_Reshare Popup Should Exist
    Wait For Progress Bar
    fsweb_Input Recipient On Add Recipient Popup    ${v_data['Exist recipient']}
    Click    ${Reshare_StringButton}
    fsweb_Verify Error Message On Add Recipient Model    ${v_data['Error message']}
