*** Settings ***
Test Setup        Run Keywords    Get Test Case ID From Test Case Name    AND    fsweb_Load Data From File    ${v_addRecipientReshareFile}    ${v_testcaseID}    AND
...               Open Web App    AND    SignIn    ${v_data['Direct recipient email address']}    ${v_data['Password']}
Test Teardown     Run Keywords    fsweb_Submit Test Status Into Testlink    ${v_testcaseID}    AND    Close All Browsers
Resource          ../Resource/AddRecipients.txt

*** Test Cases ***
fs[7846]_File is NOT sent in case click Cancel button
    fsweb_Open A File Or Folder    FileString Received Files
    Wait For Progress Bar
    fsweb_Open A File Or Folder    ${v_data['Owner fullname']}
    Wait For Progress Bar
    Right Click File    ${v_data['Filename']}
    Click    ${MenuWhenRightClickOnAFile_ReShare}
    fsweb_Verify_Reshare Popup Should Exist
    Wait For Progress Bar
    Click    ${Reshare_CancelButton}
    fsweb_Verify_Reshare Popup Should Not Exist

fs[7848]_File is NOT sent in case click X button
    fsweb_Open A File Or Folder    FileString Received Files
    Wait For Progress Bar
    fsweb_Open A File Or Folder    ${v_data['Owner fullname']}
    Wait For Progress Bar
    Right Click File    ${v_data['Filename']}
    Click    ${MenuWhenRightClickOnAFile_ReShare}
    fsweb_Verify_Reshare Popup Should Exist
    Wait For Progress Bar
    Click    ${Reshare_XButton}
    fsweb_Verify_Reshare Popup Should Not Exist

fs[7850]_File is NOT sent in case press ALT + F4 to close browser
    fsweb_Open A File Or Folder    FileString Received Files
    Wait For Progress Bar
    fsweb_Open A File Or Folder    ${v_data['Owner fullname']}
    Wait For Progress Bar
    Right Click File    ${v_data['Filename']}
    Click    ${MenuWhenRightClickOnAFile_ReShare}
    Wait For Progress Bar
    fsweb_Verify_Reshare Popup Should Exist

fs[7854]_CANNOT share file without entering recipient
    fsweb_Open A File Or Folder    FileString Received Files
    Wait For Progress Bar
    fsweb_Open A File Or Folder    ${v_data['Owner fullname']}
    Wait For Progress Bar
    Right Click File    ${v_data['Filename']}
    Click    ${MenuWhenRightClickOnAFile_ReShare}
    Wait For Progress Bar
    fsweb_Verify_Reshare Popup Should Exist
    Wait Until Element Is Visible    ${Reshare_StringButton}    ${cfg_timeout}    String button doesn't exist
    Element Should Be Disabled    ${Reshare_StringButton}
